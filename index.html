<!DOCTYPE html> 
<html>
<head>
	<title>Arrange photos to decide what to post next on Instagram!</title>
	
	<script type="text/javascript" src="./scripts.js"></script>
	<script type="text/javascript" src="./assets/packery.min.js"></script>
	<script type="text/javascript" src="./assets/dragabilly.min.js"></script>
	<link rel="stylesheet" type="text/css" href="./styles.css">


	<style type="text/css">
		.grid-item { width: 22%; }
		.grid-item--width2 { width: 50%; }
		.grid-item,
		.grid-item--width2 {
			/*height: 200px;*/
			float: left;
			background-color: orange;
			display: inline-block;

		}

	</style>
</head>
<body>

<!-- TODO

- style this up, mobile-first
- function to add multiple unique images (forEach...)
- instagram API - import last 3-6 images?
- menu-top?
- session persistence - how to keep references to local images?
 -->

<p>Add an image from your photo library!</p>
<input type="file" accept="image/*" multiple onchange="picChange(event)"/>


<div class="grid container">
	<img class="grid-item draggable" src="./dev-images/image1.jpg">
	<img class="grid-item draggable" src="./dev-images/image2.jpg">
	<img class="grid-item draggable" src="./dev-images/image3.jpg">
	<img class="grid-item draggable" src="./dev-images/image4.jpg">
	<img id="myphoto" class="grid-item draggable" src="">

</div>

<script type="text/javascript">

var elem = document.querySelector('.grid');
var pckry = new Packery( elem, {
  // options
  itemSelector: '.grid-item',
  columnWidth: 100

});

// if you have multiple .draggable elements
// get all draggie elements
var draggableElems = document.querySelectorAll('.draggable');
// array of Draggabillies
var draggies = []
// init Draggabillies
for ( var i=0, len = draggableElems.length; i < len; i++ ) {
  var draggableElem = draggableElems[i];
  var draggie = new Draggabilly( draggableElem, {
    // options...
    containment: '.container'
  });
  draggies.push( draggie );
  pckry.bindDraggabillyEvents( draggie );
}


function picChange(evt){ 
//bring selected photo in

//get files captured through input
var fileInput = evt.target.files;

	if (fileInput.length>0) {
		//get the file

		//window url 
		var windowURL = window.URL || window.webkitURL; 

		//picture url
		var picURL = windowURL.createObjectURL(fileInput[0]);

		//create image
		// var photo = new Image();
		var photo = document.querySelector("#myphoto");

		//load photo into canvas
		photo.src = picURL;

		//release object url
		windowURL.revokeObjectURL(picURL);
	}


}


</script>

</body>
</html>